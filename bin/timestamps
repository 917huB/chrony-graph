#!/usr/bin/perl

use strict;

while(<>) {
  if(/^([0-9]+) ([0-9.]+) (.*)/) {
    my($mjd,$second,$text) = ($1,$2,$3);
    my $epoch = 24*60*60*$mjd+$second-3506716800; # warning: 32 bit overflows
    if($epoch > time()+300) { # nothing in the future
      $epoch = 0;
    }
    print "$epoch $text\n";
  }
}
